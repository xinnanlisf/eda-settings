<template>
    <!-- Base State-->
    <template if:false={viewModel.isActive}>
        <div>
            <!--Subsection Header-->
            <h3 id={viewModel.id} class={subsectionHeaderClass}>
                <a
                    href="javascript:void(0);"
                    class="slds-text-title_caps slds-text-color_weak eda-nav-subsection-header_link"
                    onclick={handleNavigationClick}
                    aria-current={viewModel.isActive}
                    data-qa-locator={qaLocator}
                    >{viewModel.label}</a
                >
            </h3>
            <!--Menu Items-->
            <template if:true={hasMenuItems}>
                <ul aria-describedby={viewModel.id}>
                    <c-eda-settings-navigation-menu-items
                        view-model={menuItemsViewModel}
                    ></c-eda-settings-navigation-menu-items>
                </ul>
            </template>
        </div>
    </template>
    <!-- Active State-->
    <template if:true={viewModel.isActive}>
        <div class="slds-grid slds-nowrap eda-nav-is-active">
            <!--Content Area-->
            <div class="slds-col slds-size_11-of-12">
                <!--Subsection Header-->
                <h3 id={viewModel.id} class={subsectionHeaderClass}>
                    <a
                        href="javascript:void(0);"
                        class="slds-text-title_caps slds-text-color_weak eda-nav-subsection-header_link"
                        onclick={handleNavigationClick}
                        aria-current={viewModel.isActive}
                        data-qa-locator={qaLocator}
                        >{viewModel.label}</a
                    >
                </h3>
                <!--Menu Items-->
                <template if:true={hasMenuItems}>
                    <ul aria-describedby={viewModel.id}>
                        <c-eda-settings-navigation-menu-items
                            view-model={menuItemsViewModel}
                        ></c-eda-settings-navigation-menu-items>
                    </ul>
                </template>
            </div>
            <!--Active Chevron-->
            <div class="slds-col slds-bump-left slds-size_1-of-12 slds-align_absolute-center slds-text-align_right">
                <lightning-icon icon-name="utility:chevronright" size="x-small" aria-hidden="true"></lightning-icon>
            </div>
        </div>
    </template>
</template>
